import { THEME } from "./theme.js";
export function customElement(name, defaultProps, render) {
    const Class = class extends HTMLElement {
        static observedAttributes = Object.keys(defaultProps);
        created = false;
        props = { ...defaultProps };
        shadow;
        css = (props) => ``;
        constructor() {
            super();
            this.shadow = this.attachShadow({ mode: 'open' });
            render(this.props, this);
            this.created = true;
        }
        connectedCallback() {
            this.shadow.innerHTML = this.css(this.props) + render(this.props, this);
        }
        attributeChangedCallback(name, oldValue, newValue) {
            if (name in this.props) {
                this.props[name] = newValue;
                this.shadow.innerHTML = this.css(this.props) + render(this.props, this);
            }
        }
    };
    customElements.define(name, Class);
    return Class;
}
export function style(ref, style) {
    if (!ref.created) {
        ref.css = style;
    }
}
export function html(strings, ...values) {
    return String.raw(strings, ...values);
}
export function css(strings, ...values) {
    return `<style>
    ${THEME}
    ${String.raw(strings, ...values)}
  </style>`;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL2NvbXBvbmVudHMvYmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRW5DLE1BQU0sVUFBVSxhQUFhLENBQWUsSUFBWSxFQUFFLFlBQWUsRUFBRSxNQUFzQztJQUMvRyxNQUFNLEtBQUssR0FBRyxLQUFNLFNBQVEsV0FBVztRQUNyQyxNQUFNLENBQUMsa0JBQWtCLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1QyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ2hCLEtBQUssR0FBRyxFQUFFLEdBQUcsWUFBWSxFQUFFLENBQUM7UUFDL0IsTUFBTSxDQUFhO1FBQ25CLEdBQUcsR0FBRyxDQUFDLEtBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDO1FBRTlCO1lBQ0UsS0FBSyxFQUFFLENBQUM7WUFFUixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUVsRCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUN0QixDQUFDO1FBRU0saUJBQWlCO1lBQ3RCLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFFLENBQUM7UUFFTSx3QkFBd0IsQ0FBQyxJQUFZLEVBQUUsUUFBYSxFQUFFLFFBQWE7WUFDeEUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUN2QixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDMUUsQ0FBQztRQUNILENBQUM7S0FDRixDQUFBO0lBRUQsY0FBYyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbkMsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLEtBQUssQ0FBSSxHQUFRLEVBQUUsS0FBNEI7SUFDN0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNqQixHQUFHLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQztJQUNsQixDQUFDO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxJQUFJLENBQUMsT0FBWSxFQUFFLEdBQUcsTUFBYTtJQUNqRCxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUM7QUFDeEMsQ0FBQztBQUVELE1BQU0sVUFBVSxHQUFHLENBQUMsT0FBWSxFQUFFLEdBQUcsTUFBYTtJQUNoRCxPQUFPO01BQ0gsS0FBSztNQUNMLE1BQU0sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsTUFBTSxDQUFDO1dBQ3pCLENBQUM7QUFDWixDQUFDIn0=